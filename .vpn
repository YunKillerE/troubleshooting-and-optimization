# install

```
yum install epel-release -y
yum install ppp pptpd
```

# config

```
root@qyi-5d92d0987091e ~]# cat /etc/pptpd.conf  |grep ^[^#]
option /etc/ppp/options.pptpd
debug
logwtmp
localip 10.0.0.1
remoteip 10.0.0.234-238,10.0.0.245

```

```
[root@qyi-5d92d0987091e ~]# cat /etc/ppp/options.pptpd  |grep ^[^#]
name pptpd
refuse-pap
refuse-chap
refuse-mschap
mppe-stateful
ms-dns 8.8.8.8
ms-dns 114.114.114.114
proxyarp
lock
nobsdcomp
novj
novjccomp
nologfd

```

```
[root@qyi-5d92d0987091e ~]# cat /etc/ppp/chap-secrets
# Secrets for authentication using CHAP
# client        server  secret                  IP addresses
sphone  *       sphone  *
scomputer       *       scomputer        *

```

# iptable

```
# Generated by iptables-save v1.4.21 on Tue Oct  1 14:34:36 2019
*nat
:PREROUTING ACCEPT [158:10028]
:INPUT ACCEPT [13:660]
:OUTPUT ACCEPT [1:140]
:POSTROUTING ACCEPT [1:140]
-A POSTROUTING -s 10.0.0.0/24 -o eth0 -j MASQUERADE
COMMIT
# Completed on Tue Oct  1 14:34:36 2019
# Generated by iptables-save v1.4.21 on Tue Oct  1 14:34:36 2019
*filter
:INPUT ACCEPT [58:3264]
:FORWARD ACCEPT [0:0]
:OUTPUT ACCEPT [37:2760]
-A INPUT -p gre -j ACCEPT
-A INPUT -p tcp -m tcp --dport 1723 -j ACCEPT
-A INPUT -p tcp -m tcp --dport 47 -j ACCEPT
#-A INPUT -p tcp -m tcp --dport 22 -j DROP
COMMIT
# Completed on Tue Oct  1 14:34:36 2019

```

